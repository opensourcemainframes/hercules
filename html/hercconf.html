<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN" "html.dtd">
<HTML>
<HEAD><TITLE>
Hercules Version 3: Configuration File</TITLE>
<LINK REL=STYLESHEET TYPE="text/css" HREF="hercules.css">
</HEAD>
<BODY BGCOLOR="#ffffcc" TEXT="#000000" LINK="#0000A0"
      VLINK="#008040" ALINK="#000000">
<h1>Hercules Version 3: Configuration File</h1>
<p>
This page describes the configuration file for the Hercules S/370,
ESA/390, and z/Architecture emulator.
<p>
The configuration file <b><i>hercules.cnf</b></i> contains the
processor and device layout.  It is roughly equivalent to the IOCDS on
a real System/390.  The configuration file is an ASCII text file.
<h3>Example configuration file</h3>
<blockquote><blockquote>
<table border=1><tr><td>
<pre><code>

    ####################################################
    #     HERCULES EMULATOR CONFIGURATION FILE         #
    #     (Note: not all parameters are shown)         #
    ####################################################


    #
    #   <a href="#system_parameters">System parameters</a>
    #


    <a href="#ARCHMODE">ARCHMODE</a>   ESA/390
    <a href="#OSTAILOR">OSTAILOR</a>   OS/390
    <a href="#LOADPARM">LOADPARM</a>   0120....

    <a href="#CPUSERIAL">CPUSERIAL</a>  000611
    <a href="#CPUMODEL">CPUMODEL</a>   3090
    <a href="#CPUVERID">CPUVERID</a>   FD
    <a href="#MAINSIZE">MAINSIZE</a>   64
    <a href="#XPNDSIZE">XPNDSIZE</a>   0
    <a href="#NUMCPU">NUMCPU</a>     1
    <a href="#NUMVEC">NUMVEC</a>     1
    <a href="#SYSEPOCH">SYSEPOCH</a>   1900
    <a href="#TZOFFSET">TZOFFSET</a>   -0500

    ##<a href="#HTTPROOT">HTTPROOT</a>   /usr/local/share/hercules/
    <a href="#HTTPPORT">HTTPPORT</a>   8081 NOAUTH

    <a href="cckddasd.html#cckdcommand">CCKD</a>       cache=8
    <a href="#SHRDPORT">SHRDPORT</a>   3990

    <a href="#CNSLPORT">CNSLPORT</a>   3270
    <a href="#PANRATE">PANRATE</a>    FAST
    <a href="#CODEPAGE">CODEPAGE</a>   default

    <a href="#TODPRIO">TODPRIO</a>    -20
    <a href="#HERCPRIO">HERCPRIO</a>   0
    <a href="#DEVPRIO">DEVPRIO</a>    8
    <a href="#CPUPRIO">CPUPRIO</a>    15

    <a href="#DIAG8CMD">DIAG8CMD</a>   disable

    <a href="#AUTO_SCSI_MOUNT">AUTO_SCSI_MOUNT</a>   no

    <a href="#DEFSYM">DEFSYM</a>   TAPEDIR "$(HOME)/tapes"


    #
    #   <a href="#device_definitions">Device definitions</a>
    #

    0009      <a href="#consysc">3215-C</a>  /

    000A      <a href="#1442">1442</a>    adrdmprs.rdr
    000C      <a href="#3505">3505</a>    jcl.txt     ascii  trunc
    000D      <a href="#3525">3525</a>    pch00d.txt  ascii
    000E      <a href="#1403">1403</a>    prt00e.txt

    001F      <a href="#3270">3270</a>    * 192.168.0.1
    0200.4    <a href="#3270">3270</a>    * 192.168.0.0  255.255.255.0
    0220.8    <a href="#3270">3270</a>    GROUP1  192.168.100.0  255.255.255.0
    0228.8    <a href="#3270">3270</a>    GROUP2
    0230.16   <a href="#3270">3270</a>

    0120      <a href="#3380">3380</a>    mvsv5r.120
    0121      <a href="#3380">3380</a>    mvsv5d.121
    0122      <a href="#3380">3380</a>    mvswk1.122
    0123      <a href="#3380">3380</a>    192.168.1.100

    0140      <a href="#3370">3370</a>    dosres.140
    0141      <a href="#3370">3370</a>    syswk1.141
    0300      <a href="#3370">3370</a>    sysres.300

    0400      <a href="#device_types_table">CTCT</a>    30880  192.168.100.2  30880  2048 &nbsp; &nbsp; &nbsp;
    0401      <a href="#device_types_table">CTCT</a>    30881  192.168.100.2  30881  2048
    0420.2    <a href="#device_types_table">CTCI</a>    192.168.200.1  192.168.200.2
    0440.2    <a href="#device_types_table">LCS</a>     -n   /dev/net/tun   192.168.200.2

    0580      <a href="#3420">3420</a>    ickdsf.ipl
    0581      <a href="#3420">3420</a>    /dev/nst0   # SCSI
    0582      <a href="#3420">3420</a>    /cdrom/tapes/uaa196.tdf
    0583-0587 <a href="#3420">3420</a>    $(TAPEDIR)/volumes.$(CUU) maxsizeM=170 eotmargin=131072
</pre></code>
</td></tr></table>
</blockquote></blockquote>

<h3>Comment lines</h3>
<p>
    Blank lines, and lines beginning with a &#035; sign
    or an asterisk, are treated as comments.
    <p>

<hr><!-- ---------------------------------------------------------------------------- -->

<a name="system_parameters">
<h3>System parameters</h3>
<p>
    System parameters may appear in any order but they must precede all
    device records.  Each system parameter must be on a separate line.
    The following system parameters may be specified:

<dl>

<a name="ASN_AND_LX_REUSE">
<dt><code>ASN_AND_LX_REUSE DISABLE &#124; ENABLE</code>
<dd><p>
    specifies that the ASN-and-LX-Reuse Facility (ALRF) is to be disabled 
    or enabled. The default is disabled. This is a z/Architecture-only
    feature (it is always disabled for S/390 or ESA/390). Set this
    to <code>ENABLE</code>&nbsp if the operating system supports
    this z/Architecture feature and the use of this feature is desired.
    Set it to <code>DISABLE</code>&nbsp or do not specify anything
    if the operating system doesn't support this feature, and it
    inadvertently sets CR0 bit 44 to 1, usually leading to unexpected
    program interrupt when instructions such as LASP are issued.
    <p>
    <code>ASN_AND_LX_REUSE</code> may be abbreviated as <code>ALRF</code>
    <p>

<a name="AUTO_SCSI_MOUNT">
<dt><code>AUTO_SCSI_MOUNT NO</code> &nbsp;&#124; <em>nn</em></code>
<dd><p>
    specifies whether automatic detection of SCSI tape mounts are to be
    enabled or not.
    <p>
    A value from 1 to 99 seconds inclusive enables the option
    and causes periodic queries of the SCSI tape drive to automatically
    detect when a new tape is mounted.
    <p>
    <code>NO</code> (the default) indicates the option is disabled, forcing all SCSI
    tape mounts to be done manually via an appropriate <code>devinit</code>
    command.
    <p>
    The <code>scsimount</code> panel command may also be used to display
    and/or modify this value on demand once Hercules has been started. Note
    too that the <code>scsimount</code> panel command also lists any mounts
    and/or dismounts that may still be pending.
    <p>
    <i>
    <b>Note:</b> &nbsp;enabling this option may negatively impact Hercules performance
    depending on how the host operating system (Windows, Linux, etc) handles
    SCSI attached tape drive status queries.
    </i>
    <p>

<a name="CPUSERIAL">
<dt><code>CPUSERIAL <em>xxxxxx</em></code>
<dd><p>
    specifies the 6 hexadecimal digit CPU serial
    number stored by the STIDP instruction
    <p>

<a name="CPUMODEL">
<dt><code>CPUMODEL <em>xxxx</em></code>
<dd><p>
    specifies the 4 hexadecimal digit CPU model number
    stored by the STIDP instruction
    <p>

<a name="CPUVERID">
<dt><code>CPUVERID <em>xx</em></code>
<dd><p>
    specifies the 2 hexadecimal digit CPU version code
    stored by the STIDP instruction.
    The default version code is FD when ARCHMODE S/370 or ARCHMODE ESA/390
    is specified.  For the z/Architecture mode, 00 is used as default.
    <p>

<a name="DEFSYM">
<dt><code>DEFSYM <em>symbol</em> <em>value</em></code>
<dd><p>
    Defines symbol <em>symbol</em> as to contain value <em>value</em>. The
    symbol can then be the object of a substitution later in the configuration
    file or for panel commands. If <em>value</em> contains blanks or spaces, then
    it should be enclosed in double quotation marks ("). See
    <a href="#subs">substitutions</a> for a more in-depth discussion
    on this feature. Substitution is available even if configuration statements,
    meaning it is possible to perform substitution in the <em>DEFSYM</em> statement itself.
    However, symbols are always defined as the last step in the process, so attempting
    to self define a symbol will result in an empty string:
    <code><pre>
    DEFSYM FOO $(FOO)
    </pre></code>
    Will set symbol FOO to ""
    <p>

<a name="LPARNAME">
<dt><code>LPARNAME <em>name</em></code>
<dd><p>
    specifies the LPAR name returned by DIAG X'204'.  The default is
    <code>HERCULES</code>.
    <p>

<a name="MAINSIZE">
<dt><code>MAINSIZE <em>nnnn</em></code>
<dd><p>
    specifies the main storage size in megabytes, where
    <code><em>nnnn</em></code> is a decimal number
    in the range 2 to 1024
    <p>

<a name="XPNDSIZE">
<dt><code>XPNDSIZE <em>nnnn</em></code>
<dd><p>
    specifies the expanded storage size in megabytes, where
    <code><em>nnnn</em></code> is a decimal number
    in the range 0 to 1024
    <p>

<a name="HTTPROOT">
<dt><code>HTTPROOT <em>directory</em></code>
<dd><p>
    specifies the root directory where the HTTP server's files reside.
    If not specified, the default value for Win32 builds of Hercules is the
    directory where the Hercules executable itself is executing out of, and for
    non-Win32 builds it is the directory specified as the default package
    installation directory when the Hercules executable was built (which can
    vary depending on how the Hercules package was built, but is usually
    <tt>/usr/local/share/hercules/</tt>).
    <p>

    Note: Windows users of Hercules who do not have the complete Cygwin package
    installed (i.e. only have the required Cygwin DLLs installed instead)
    should specify this value in the form: "<tt>/cygdrive/x/pathname/</tt>"
    where '<tt>x</tt>' is the Windows drive letter. For example, if the Windows
    directory where the http server's files reside is
    "<tt>K:\Hercules\html\</tt>", then you should specify
    "<tt>/cygdrive/k/Hercules/html/</tt>"
    on your <tt>HTTPROOT</tt> statement.
    <p>

<a name="HTTPPORT">
<dt><code>HTTPPORT <em>nnnn</em> [AUTH &#124; NOAUTH] [ <em>userid password</em> ]</code>
<dd><p>
    specifies the port number (in decimal) on which the HTTP server
    will listen. The port number must either be 80
    or within the range 1024 - 65535 inclusive. If no HTTPPORT statement is
    present or an invalid port number is specified, then the HTTP server thread
    will not be activated.<br>
    <tt>AUTH</tt> indictates that a userid and password are required to access
    the HTTP server, whereas <tt>NOAUTH</tt> indicates that a userid and password
    are not required. The userid and password may be any valid string.
    <p>

<a name="SHRDPORT">
<dt><code>SHRDPORT <em>nnnn</em></code>
<dd><p>
    specifies the port number (in decimal) on which the Shared Device server
    will listen.  Specifying SHRDPORT will allow other Hercules instances
    to access devices on this instance.  (Currently only DASD devices may
    be shared).  By default, the other Hercules instances (clients) will
    use port 3990.  If you specify a different port number, then you will
    have to specify this port number on the device statement for the other
    Hercules clients.
    If no SHRDPORT statement is present then the Shared Device server thread
    will not be activated.<br>
    <p>

<a name="DIAG8CMD">
<dt><code>DIAG8CMD DISABLE &#124; ENABLE</code>
<dd><p>
    When set to <code>ENABLE</code>, commands issued through diagnose 8 will be
    executed by hercules as hercules commands.  When set to <code>DISABLE</code>,
    commands issued through the diagnose 8 interface will be ignored.
    The default is <code>DISABLE</code>
    <p>

    <i><b>Caution:</b> &nbsp; Enabling this feature may have security consequences</i>
    <p>

    Note that when this feature is enabled, systems
    running under hercules can even issue host commands through the Hercules
    <code>sh</code> (shell) command. This ability may be disabled via the
    <a href="#SHCMDOPT">SHCMDOPT</a> statement.
    <p>

<a name="SHCMDOPT">
<dt><code>SHCMDOPT DISABLE &#124; NODIAG8</code>
<dd><p>
    When set to <code>DISABLE</code>, <code>sh</code> (shell) commands are globally disabled, and will result
    in an error if entered either directly via the Hercules hardware console or
    programmatically via the <a href="#DIAG8CMD">DIAG8CMD</a> interface.
    <p>
    When set to <code>NODIAG8</code> only the programmatic execution of shell commands via the
    the diagnose 8 interface is disabled; <code>sh</code> (shell) commands entered directly
    via the Hercules hardware console will still work.
    <p>
    <b>NOTE:</b> &nbsp;<i>"entered directly via the Hercules hardware console"</i>
    also pertains to both commands entered via the
    <a href="#HTTPROOT">HTTP server facility</a>
    as well as commands entered via
    <a href="hercinst.html#RCFILE">.rc "run command"</a> scripts.
    <p>

<a name="CNSLPORT">
<dt><code>CNSLPORT &nbsp;<i>nnnn</i></code>
<dd><p>
    specifies the port number (in decimal) to which tn3270 and
    telnet clients will connect
    <p>

    The CNSLPORT statement may also have the form of host:port, where
    the telnet console server will bind to the specified address.
    <p>

<a name="NUMCPU">
<dt><code>NUMCPU <em>nn</em></code>
<dd><p>
    specifies the number of emulated CPUs.
    <p>

    <em>Note:</em>
    Multiprocessor emulation is only available when the definition of
    the compile-time variable <code>MAX_CPU_ENGINES</code>
    in the file <tt>config.h</tt> has a value of more than 1.
    Current versions of Hercules already have this value
    set to 2 by default, so all you need to do is specify
    <tt>NUMCPU 2</tt>
    in your configuration file. If you wish to define a greater value
    for <tt>MAX_CPU_ENGINES</tt>, use the
    <tt>--enable-multi-cpu=NUMBER</tt>
    option when you do your <tt>./configure</tt> before doing your
    <tt>make</tt>.
    <p>

    Multiprocessor emulation works best
    if your host system actually has more than one physical CPU, but you can
    still emulate multiple CPUs nervertheless  even on a uniprocessor system
    (and you might even achieve a small performance benefit when you do).
    There is little point, however, in specifying <tt>NUMCPU</tt> greater
    than 1 unless your guest operating system (running under Hercules) is
    actually able to support multiple CPUs (and if you do not actually need
    multiprocessor emulation, then setting <tt>MAX_CPU_ENGINES</tt> to 1 at
    compile time might even produce a slight performance advantage too).
    <p>

<a name="NUMVEC">
<dt><code>NUMVEC <em>nn</em></code>
<dd><p>
    specifies the number of emulated vector facilities. Default is one per
    CPU. Only available by default in ESA/390 mode.
    <p>

<a name="HERCPRIO">
<dt><code>HERCPRIO <em>nn</em></code>
<dd><p>
    specifies the process priority for Hercules.  The default is 0.
    See <a href="#process_priorities">"Process Priorities"</a>
    below for more information.
    <p>

<a name="CPUPRIO">
<dt><code>CPUPRIO <em>nn</em></code>
<dd><p>
    specifies the priority of the CPU thread.  Default is a nice value
    of 15, which means a low priority such that I/O can be scheduled and
    completed in favour of CPU cycles being burned. On Multi-CPU
    systems, a real CPU can be "dedicated" to Hercules, by giving the
    CPU thread a very high dispatching priority (-20).
    See <a href="#thread_priorities">"Thread Priorities"</a>
    below for more information.
    <p>

    <i><b>Caution:</b> &nbsp; CPUPRIO should not have a higher dispatching
    priority than the TOD Clock and timer thread.</i>
    </ol>
    <p>

<a name="DEVPRIO">
<dt><code>DEVPRIO <em>nn</em></code>
<dd><p>
    specifies the priority of the device threads.  The default value is 8.
    See <a href="#thread_priorities">"Thread Priorities"</a>
    below for more information.
    <p>

    <i><b>Caution:</b> &nbsp; DEVPRIO should not have a higher dispatching
    priority than the TOD Clock and timer thread.</i>
    <p>

<a name="TODPRIO">
<dt><code>TODPRIO <em>nn</em></code>
<dd><p>
    specifies the priority of the TOD Clock and timer thread.  The
    default value is -20.  See
    <a href="#thread_priorities">"Thread Priorities"</a>
    below for more information.
    <p>

    <i><b>Caution:</b> &nbsp; TODPRIO should be given a dispatching
    priority equal to or higher than any other thread within Hercules.</i>
    <p>

<a name="LOADPARM">
<dt><code>LOADPARM <em>xxxxxxxx</em></code>
<dd><p>
    specifies the eight-character IPL parameter which is used
    by some operating systems to select system parameters
    <p>

<a name="SYSEPOCH">
<dt><code>SYSEPOCH <em>yyyy</em></code>
<dd><p>
    specifies the base date for the TOD clock.  Use the default
    value (1900) for all systems except OS/360.
    OS/360 expects the base date to be 1960, but specifying this
    value causes an error because OS/360 regards 2000 as an invalid
    date.  For OS/360, <code>SYSEPOCH 1988</code> is recommended.
    This makes the year 2000 appear to be 1972.
    <p>

<a name="TZOFFSET">
<dt><code>TZOFFSET &plusmn;<em>hhmm</em></code>
<dd><p>
    specifies the hours and minutes by which the TOD clock will
    be offset from the current system time.  For GMT, use the
    default value (0000).  For timezones west of Greenwich, specify
    a negative value (example: <code>-0500</code> for US Eastern Standard
    Time, <code>-0800</code> for US Pacific Standard Time).
    For timezones east of Greenwich, specify a positive value
    (example: <code>+0100</code> for Central European Time,
    <code>+0930</code> for South Australian Time).
    <p>

<a name="TODDRAG">
<dt><code>TODDRAG <em>nn</em></code>
<dd><p>
    specifies the TOD clock drag factor.  This parameter can be used
    to slow down or speedup the TOD clock by a factor of <em>nn</em>,
    a significant slowdown can improve the performance of some operating
    systems which consume significant amounts of CPU time processing
    timer interrupts.
    A drag factor of 2.0 slows down the clock by 50%, A drag factor of
    0.5 doubles the speed of the clock, a drag factor of 1.01 slows
    down the clock by 1% and 0.99 speeds up the clock by 1%.
    <p>

<a name="OSTAILOR">
<dt><code>OSTAILOR OS/390 &#124; z/OS &#124; 
    VM &#124; VSE &#124; LINUX &#124; QUIET &#124; NULL</code>
<dd><p>
    specifies the intended operating system.  The effect of this
    parameter is to reduce control panel message traffic by
    selectively suppressing trace messages for program checks
    which are considered normal in the specified environment.
    <code>QUIET</code> discards all exception messages.
    <code>NULL</code> allows all exception messages to be logged.
    If this statement is omitted, exception messages for program
    checks 10, 11, 16, and 1C are suppressed.
    <p>

<a name="PANRATE">
<dt><code>PANRATE SLOW &#124 FAST &#124 <em>nn</em></code>
<dd><p>
    specifies the panel refresh rate, in milliseconds between refreshes. SLOW
    is the same as 500, and FAST is the same as 50. A value less than the
    Linux system clock tick interval (10 on Intel, 1 on Alpha), or more than
    5000, will be rejected. SLOW is the default.
    <p>

<a name="ARCHMODE">
<dt><code>ARCHMODE S/370 &#124 ESA/390 &#124 z/Arch &#124 ESAME</code>
<dd><p>
    specifies the initial architecture mode:
    <ul compact>
    <li>use <code>S/370</code> for OS/360, VM/370, and MVS 3.8.
    <li>use <code>ESA/390</code> for MVS/XA, MVS/ESA, OS/390, VM/ESA, VSE/ESA,
    Linux/390, and ZZSA.
    <li>use <code>z/Arch</code> or <code>ESAME</code> for z/OS and zLinux.
    </ul>
    <p><code>ESAME</code> is a synonym for <code>z/Arch</code>.
    When <code>z/Arch</code> or <code>ESAME</code> is specified,
    the machine will always IPL in ESA/390 mode,
    but is capable of being switched into z/Architecture mode after IPL.
    This is handled automatically by all z/Architecture operating systems.
    <p>

<a name="DEVTMAX">
<dt><code>DEVTMAX -1 &#124 0 &#124 <em>nnn</em></code>
<dd><p>
    specifies the maximum number of device threads allowed.
    <p>Specify <code>-1</code> to cause 'one time only' temporary threads to be
    created to service each I/O request to a device. Once the I/O request is
    complete, the thread exits. Subsequent I/O to the same device will cause
    another worker thread to be created again.
    <p>Specify <code>0</code> to cause an unlimited number of 'semi-permanent'
    threads to be created on an 'as-needed' basis. With this option, a thread
    is created to service an I/O request for a device if one doesn't already
    exist, but once the I/O is complete, the thread enters an idle state waiting
    for new work. If a new I/O request for the device arrives before the timeout
    period expires, the existing thread will be reused. The timeout value is
    currently hard coded at 5 minutes. Note that this option can cause one thread
    (or possibly more) to be created for each device defined in your
    configuration. Specifying <code>0</code> means there is no limit to the
    number of threads that can be created.
    <p>Specify a value from <code>1</code> to <code><em>nnn</em></code> to set an upper limit
    to the number of threads that can be created to service any I/O request to
    any device. Like the <code>0</code> option, each thread, once done servicing
    an I/O request, enters an idle state. If a new request arrives before the
    timeout period expires, the thread is reused. If all threads are busy when
    a new I/O request arrives however, a new thread is created <i>only</i> if the
    specified maximum has not yet been reached. If the specified maximum number
    of threads has already been reached, then the I/O request is placed in a queue
    and will be serviced by the first available thread (i.e. by whichever thread
    becomes idle first). This option was created to address a threading issue
    (possibly related to the cygwin Pthreads implementation) on Windows systems.
    <p>The default for Windows is <code>8</code>. The default for all other systems
    is <code>0</code>.
    <p>

<a name="PGMPRDOS">
<dt><code>PGMPRDOS RESTRICTED &#124 LICENSED</code>
<dd><p>
    specifies whether or not Hercules will run licensed program product ESA
    or z/Architecture operating systems.  Specify <code>RESTRICTED</code> to
    make Hercules emulate an IFL (Integrated Facility for Linux) CPU. With
    this specified, licensed ESA or z/Architecture OSes will refuse to
    start. OS/390 and z/OS will enter an A7A wait state, with reason code 7,
    at IPL time.  Specify <code>LICENSED</code> to allow these operating
    systems to run normally. This parameter has no effect on Linux/390,
    Linux for z/Series, or any 370-mode OS.
    <p>

    <blockquote class=box>
    <b>NOTE: &nbsp;It is <u>YOUR</u> responsibility to comply with
    the terms of the license for the operating system you intend to run on
    Hercules. If you specify LICENSED and run a licensed operating system in
    violation of that license, then don't come after the Hercules developers
    when the vendor sends his lawyers after you.</b>
    </blockquote>
    <p>

    <code>RESTRICTED</code> is the default. Specifying
    <code>LICENSED</code> will produce a message at Hercules startup to
    remind you of your responsibility to comply with software license terms.
    <p>

<a name="IODELAY">
<dt><code>IODELAY <em>usec</em></code>
<dd><p>
    specifies the amount of time (in microseconds) to wait after
    an I/O interrupt is ready to be set pending.  This value can also be
    set using the Hercules console.  The purpose of this parameter is to
    bypass a bug in the <b>Linux/390</b> and <b>zLinux</b> <code>dasd.c</code>
    device driver. The problem is more apt to happen under Hercules than
    on a real machine because we may present an I/O interrupt sooner than a
    real machine.  This problem is being pursued with IBM linux. <p /><em>NOTE : At this time,
    specifying <code><a href="#OSTAILOR">OSTAILOR LINUX</a></code> no longer sets IODELAY 
    to 800 since the problem described above is no longer present in recent versions of
    the linux kernel.</em>
    <p>

<a name="CODEPAGE">
<dt><code>CODEPAGE <em>codepage</em></code>
<dd><p>
    specifies the codepage conversion table used for ASCII/EBCDIC translation.
    <p>

    "default" specifies traditional hercules codepage. Code pages "437/037",
    "437/500" and "850/273" are also supported.
    <p>

    Iconv single byte codepages may also be used. (eg."UTF8/EBCDIC-CP-NL")
    <p>

    If no codepage is specified then the environment variable HERCULES_CP
    will be inspected. The default codepage used is "default"

    <p>

<a name="ECPSVM">
<dt><code>ECPSVM YES &#124 NO &#124 LEVEL <em>nn</em></code>
<dd><p>
    specifies whether ECPS:VM (Extended Control Program Support : Virtual Machine)
    support is to be enabled. If <code>YES</code> is specified, then the support
    level reported to the operating system is <code>20</code>. The purpose of
    ECPS:VM is to provide to the VM/370 Operating system a set of shortcut
    facilities to perform hypervisor functions (CP Assists) and virtual
    machine simulation (VM Assists). Although this feature does not affect
    VM Operating system products operating in XA, ESA or z/Architecture mode,
    it will affect VM/370 and VM/SP products running under VM/XA, VM/ESA or z/VM.
    Running VM/370 and VM/SP products under VM/XA, VM/ESA or z/VM should be
    done with ECPS:VM disabled. ECPS:VM should not be enabled in an AP or MP
    environment. ECPS:VM has no effect on non-VM operating systems. It is
    however recommended to disable ECPS:VM when running native non-VM operating
    systems. If a specific LEVEL is specified, this value will be reported
    to the operating system when it issues a Store ECPS:VM level, but it
    doesn't otherwise alter the ECPS:VM facility operations. This is a partial
    implementation.
    <p>

<a name="LDMOD">
<dt><code>LDMOD <em>module list</em></code>
<dd><p>
    specifies additional modules that are to be loaded by the hercules dynamic loader.
    The default search order is with the hercules directory in the default DLL search
    path. Most systems also support absolute filenames (ie names starting with '/'
    or '.') in which case the default search path is not taken.
    <p>
    Multiple LDMOD statements may be used.
    <p>

<a name="MODPATH">
<dt><code>MODPATH <em>path</em></code>
<dd><p>
    specifies the path where dynamic modules are loaded from. When a modpath
    statement is specified, the path on the modpath statement is searched before
    the default path is searched. When a relative path is specified is interpreted
    as a relative path within the default search path, if an absolute path is
    specified is interpreted as such.
    <p>
    The default MODPATH is hercules, which means modules are loaded from the
    directory hercules within the default LD_LIBRARY_PATH.
</dl>

<p>
    A comment preceded by a &#035; sign may be appended to any system
    parameter statement.
<p>

<hr><!-- ---------------------------------------------------------------------------- -->

<a name="subs">
<h4>Symbol substitutions</h4></a>
<dl> <!-- Begine substitution -->
<dt><dd>
<p><br>
<dd><p>
    In configuration and device statements, as well as in panel commands, symbols may be substituted for text.
<dt><h4>syntax</h4>
<dd><p>
    To substitute symbol <em>symbol</em> with its contents, the symbol should be enclosed
    within parenthesis and preceded by a $ sign. For example, if symbol <em>FOO</em> contains
    the text string <em>&quot;BAR&quot;</em> then <em>$(FOO)</em> will be substituted with the
    string <em>&quot;BAR&quot</em>;. Symbol names are case sensitive.
<dt><h4>Example</h4>
<dd><p>
    <code><pre>
...
DEFSYM TAPEDIR &quot;/home/hercules/tapes&quot;
...
0380 3420 $(TAPEDIR)/scratch.aws
...
    </pre></code>
    In this example, device 0380 will be a 3420 loaded with the AWS tape file in /home/hercules/tapes/scratch.aws
<dt><h4>Special symbols</h4>
<dl> <!-- Begine Special -->
    <dt>
    <h4>Device group symbols</h4>
    <dd><p>
        When multiple devices are defined with a single device definition record, then the symbols<P>
        <TABLE BORDER=0>
        <TR><TD><LI>CUU</TD><TD>: 3 digits device number, upper case hexadecimal digits</TD></TR>
        <TR><TD><LI>CCUU</TD><TD>: 4 digits device number, upper case hexadecimal digits</TD></TR>
        <TR><TD><LI>cuu</TD><TD>: 3 digits device number, lower case hexadecimal digits</TD></TR>
        <TR><TD><LI>ccuu</TD><TD>: 4 digits device number, lower case hexadecimal digits</TD></TR>
        </TABLE>
        are defined to contain for each device the relevant device address. For example :
<code><pre>
0200,0201 3340 /home/hercules/dasds/myvols.$(CUU)
</pre></code>
        Will define 2 3340 packs, with device 0200 being loaded with the file myvols.200 and
        device 0201 defined with myvols.201.
    <dt><h4>Environment variables</h4>
    <dd><p>
        If a symbol is not explicitly defined by a DEFSYM statement and an environment
        variable by the same name exists, the string contents of that environment variable
        will be used for substitution.
    <dt><h4>Undefined symbols</h4>
    <dd><p>
        If a symbol is not defined by an explicit DEFSYM, is not an automatically generated symbol
        or is not an environment variable, an empty string will be substituted.
    <dt><h4>Escaping substitution, recursion</h4>
    <dd><p>
        To be able to specify the '$(' string without incuring substitution, an additional '$' sign
        should be used. For example, $$(FOO) will not be substituted. If substitution is required but
        the text is to contain a '$' sign as the very previous character, then $$$(FOO) should be
        specified (if symbol FOO contains &quot;BAR&quot;, then $$(FOO) will remain &quot;$$(FOO)&quot; while $$$(FOO)
        will be become &quot;$BAR&quot;).<p>
        Substitution is NOT recursive (only one substitution pass is made).
    </dl> <!-- End Special -->
</dl> <!-- End substitutions -->
<hr><!-- ---------------------------------------------------------------------------- -->

<a name="process_and_thread_priorities">
<h4>Process and Thread Priorities</h4>

<dl> <!-- begin Process and Thread Priorities -->

<dt><dd>

<a name="process_priorities">
<p><br>

<h4>Process Priorities</h4>

<dl> <!-- begin Process Priorities -->

<dt><dd>

<P>
    <B>Note:</B> Under Linux, a process is a thread and thread priority information
    applies instead.
<P>
    For Windows, the following conversions are used for translating Unix
    process priorities to Windows process priority classes:
<BR>
<BR>
<table frame="VOID" rules="NONE" cellpadding="0" cellspacing="0">
    <TR>
        <TH ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%"><BR></TH>
        <TH ALIGN="RIGHT" VALIGN="BASELINE" COLSPAN="3" WIDTH="14%">Unix Priority</TH>
        <TH ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%"><BR></TH>
        <TH ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Windows Priority Class</TH>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-20</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-16</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Realtime</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-15</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-9</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">High</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-8</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-1</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Above Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">0</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">7</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">8</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">15</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Below Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">16</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">20</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Low</TD>
    </TR>
</TABLE>

</dl> <!-- end Process Priorities -->

<dt><dd>

<a name="thread_priorities">
<p><br>

<h4>Thread Priorities</h4>

<dl> <!-- begin Thread Priorities -->

<dt><dd>

<P>
    On a *ix (Linux/Unix) host, Hercules needs to be a setuid root
    program to allow it to reset its dispatching priority to a high
    (negative) value
    (i.e., <code>chown root.root hercules; chmod +s hercules</code>).
<P>
    For Windows, the following conversions are used for translating
    Linux/Unix thread priorities to Windows thread priorities:
<P>

<table frame="VOID" rules="NONE" cellpadding="0" cellspacing="0">
    <TR>
        <TH ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%"><BR></TH>
        <TH ALIGN="RIGHT" VALIGN="BASELINE" COLSPAN="3" WIDTH="14%">Unix Priority</TH>
        <TH ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%"><BR></TH>
        <TH ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Windows Priority</TH>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-20</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-16</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Time Critical</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-15</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-9</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Highest</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-8</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">-1</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Above Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">0</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">7</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">8</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">15</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Below Normal</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">16</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;to&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">19</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Lowest</TD>
    </TR>
    <TR>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="7%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">20</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="RIGHT" VALIGN="BASELINE" WIDTH="4%">&nbsp;</TD>
        <TD ALIGN="CENTER" VALIGN="BASELINE" WIDTH="6%">&nbsp;</TD>
        <TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="73%">Idle</TD>
    </TR>
</TABLE>

</dl> <!-- end Thread Priorities -->

</dl> <!-- end Process and Thread Priorities -->

<hr><!-- ---------------------------------------------------------------------------- -->

<a name="device_definitions">
<h3>Device definitions</h3>

<p>
    The remaining statements in the configuration file are device records.
    There must be one device record for each I/O device or group of identical I/O devices.
    The format of the device record is:
    <p>

    <blockquote>
        <code><em>devnum(s) &nbsp; devtype</em> &nbsp; [ <em>arguments</em> ] </code>
    </blockquote>
    <p>

    where:

<blockquote>

<dl> <!-- begin Device records -->

<dt><code><em>devnum(s)</em></code>
<dd><p>
    is either a single <em>devnum</em>, a range of <em>devnums</em> (separated by a '-' (dash)),
    a count of <em>devnums</em> (separated by a '.' (dot/period/stop)), or a comma separated
    list of <em>devnums</em>. Examples would be 200-210 or 0300.10 or 0400,0403 or 0100,0110-011F.
    <p>

    All devices defined when <em>devnums</em> specifies more than one device
    have identical characteristics (except for the device number itself).
    All devices defined as a group must be defined on a single channel.
    A channel is defined as a contiguous group of 256 (or hexadecimal 100) devices.
    0010 and 0020 are on the same channels. 0100 and 0210 are not.
    <p>

    See <em>devnum</em> immediately below for an explanation of how each device number is specified.

    <p />
    The 4 special subtitution symbols CUU, CCUU, cuu and ccuu are also defined for each
    device in a device group. See <a href="#subs">substitutions</a> for details.
    <p>

<dt><code><em>devnum</em></code>
<dd><p>
    is either a 1 to 4 digit hexadecimal number in the range 0000 to FFFF
    for ESA/390, or 0000 to 0FFF for S/370.  The device number uniquely
    identifies each device to the operating system.
    <p>

<dt><code><em>devtype</em></code>
<dd><p>
    is the device type.  Valid device types are shown in the
    <a href="#device_types_table">table</a> just below.
    <p>

<dt><code><em>arguments</em></code>
<dd><p>
    is a list of parameters whose meaning depends on the device type.
    The arguments required for each class of device are shown below.
    <p>

</dl> <!-- end Device records -->

</blockquote>


<p><br>

<a name="device_types_table">

    <table>
    <tr>

        <td width=15%>
        &nbsp;
        </td>

        <td>

            <table border=1 cellpadding=8>

            <tr>
                <th colspan=3><br><big>Supported Device Types</big><p></th>
            </tr>

            <tr><th>Device type</th>
                <th>Description</th>
                <th>Emulated by</th>
            </tr>

            <tr><td>3270, 3287</td>
                <td><a href="#loc3270">Local non-SNA 3270 display or printer</a></td>
                <td>TN3270 client connection</td>
            </tr>

            <tr><td>1052, 3215</td>
                <td><a href="#conprkb">Console printer-keyboards</a></td>
                <td>Telnet client connection</td>
            </tr>

            <tr><td>1052-C, 3215-C</td>
                <td><a href="#consysc">Integrated console printer-keyboards</a></td>
                <td>Integrated on hercules console</td>
            </tr>

            <tr><td>1442, 2501, 3505</td>
                <td><a href="#cardrdr">Card readers</a></td>
                <td>Disk file(s) (ASCII or EBCDIC)</td>
            </tr>

            <tr><td>3525</td>
                <td><a href="#cardpch">Card punch</a></td>
                <td>Disk file (ASCII or EBCDIC)</td>
            </tr>

            <tr><td>1403, 3211</td>
                <td><a href="#printer">Line printers</a></td>
                <td>Disk file (ASCII)</td>
            </tr>

            <tr><td>3410, 3420, 3480, 3490<br>
                    9347, 8809, 3422, 3430</td>
                <td><a href="#tapedev">Tape drives</a></td>
                <td>Disk file, CDROM, or SCSI tape</td>
            </tr>


            <tr>
                <td>
                        <a href="#3088">
                            3088
                        </a>
                </td>
                <td>
                        Channel-to-Channel Adapter device
                </td>
                <td>
                        <a href="#CTCT">"CTCT" driver</a>
                </td>
            </tr>


            <tr>
                <td>
                        (( <a href="#CTCI">CTCI</a> ))
                </td>
                <td>
                        Channel-to-Channel link to host TCP/IP stack
                </td>
                <td>
                        <a href="#CTCI">"CTCI" TUN/TAP Driver</a>
                </td>
            </tr>


            <tr>
                <td>
                        (( <a href="#LCS">LCS</a> ))
                </td>
                <td>
                            IBM 2216 router, IBM 3172 running ICP,
                        <br>IBM 8232 LCS device, LCS3172 driver of a P/390,
                        <br>IBM Open Systems Adapter (OSA)
                </td>
                <td>
                        <a href="#LCS">"LCS" (LAN Channel Station)
                        <br>TUN/TAP Driver</a>
                </td>
            </tr>




            <tr><td>3310, 3370, 9332, 9335<br>
                    9336, 0671</td>
                <td><a href="#fbadasd">FBA direct access storage devices</a></td>
                <td>Disk file</td>
            </tr>

            <tr><td>2311, 2314, 3330, 3340<br>
                    3350, 3375, 3380, 3390<br>
                    9345</td>
                <td><a href="#ckddasd">CKD direct access storage devices</a></td>
                <td>Disk file</td>
            </tr>

            <tr><td>2703</td>
                <td><a href="#comline">Communication Line</a></td>
                <td>TCP Socket</td>
            </tr>

            </table>

        </td>

    </tr>
    </table>

<p><br>


<h4>Arguments required for each device type</h4>

<dl> <!-- begin Arguments for each device type -->

<p>
<a name="3270">
<a name="loc3270">
<dt><em>Local non-SNA 3270 devices</em>
<dd><p>
    There are no required arguments for this particular device type, but
    there are however several optional arguments which are discussed below.
    <p>

    To use this device, a tn3270 client must connect to the host machine
    via the port number specified on the <a href="#CNSLPORT">CNSLPORT</a>
    statement. A valid tn3270 device type, such as IBM-3278, must be used.
    <p>

    If your tn3270 client software allows you to specify a device type suffix
    (e.g. <code>IBM-3278@001F</code> ), then you can use the suffix to connect
    to that specific device number, if eligible. If no suffix is specified,
    then your client will be connected to the first available 3270 device for
    which it is eligible, if any.
    <p>

    If you specify a specific terminal device address (via the device type
    suffix of your tn3270 client software), then you must be eligible to connect
    at that device address or your connection is immediately rejected; an
    alternative terminal device for which you <i>might</i> be eligible is
    <i><u>NOT</u></i> automatically selected instead.
    <p>

    Optional arguments:
    <p>

    <dl>
    <dt><code><em>groupname</em></code>
    <dd><p>
        If a terminal group name is given on the device statement, a device type
        suffix with this group name can be used to indicate that a device in this
        group is to be used. If a group name is specified as a terminal type suffix
        (e.g. <code>IBM-3278@GROUPNAME</code> ) and there are no devices defined
        for that group (or there are no more available devices remaining in that
        group), then the connection is rejected. If no group name is specified
        as a terminal type suffix, then the connection will only be eligible for
        any terminal devices which do <i>not</i> have a group name specified on
        their device statements. The terminal group name, if specified, should
        obviously <i>not</i> be a hexadecimal number.
        <p>

    <dt><code><em>ipaddr</em> [ <em>mask</em> ]</code>
    <dd><p>
        The optional IP address and optional subnet mask specify the ip address(es)
        of which client(s) are allowed to connect at the device address identified
        by the device statement on which they appear. This provides an alternative
        and/or additional means of specifying to which device(s) a client tn3270
        session may, or should, connect.
        <p>

        If the IP address of the tn3270 client trying to connect, when 'and'ed with
        the optional subnet mask (which defaults to 255.255.255.255 if not specified),
        matches the IP address entered on the device statement, then the client
        is eligible to connect at that device address. Otherwise the client is
        ineligible to connect at that address and then next available device, if
        any, for which the client is eligible to connect (if any) is selected instead.
        <p>

        If no permissible terminal devices remain (i.e. terminal devices for which
        the client is eligible to connect), or there are no more available terminal
        devices remaining, then the client connection is rejected.
        <p>

        The optional IP address and subnet mask may also be specified in conjunction
        with the previously mentioned terminal group argument, but the terminal group
        argument, if specified, must be specified <i>ahead of</i> (i.e. before) the
        optional ip address and subnet mask arguments. To specify an IP address and
        subnet mask without also specifying a terminal group, simply use '*' as the
        group name instead.
        <p>

        If an IP address / subnet mask are <i>not</i> specified, then <i><u>any</u></i>
        client tn3270 session is allowed to connect to the device (provided they are also
        a member of the specified terminal group, if any).
        <p>

        The terminal group name argument, if specified, always takes precedence over
        any optional ip address and subnet mask which may also be specified.
        <p>

    </dl>

    To summarize, the device number suffix always takes precedence over any group name
    which may also be specified, and any group name, if specified, always takes precedence
    over any ip address / subnet mask value which may also be specified.
    <p>

<a name="consysc">
<dt><em>Integrated Console printer-keyboard devices</em>
<dd><p>

    There is one optional argument which is the command prefix 
    for sending input to the device. The default command prefix is '/'.
    <p>

    To send a logon command to a 1052-C or 3215-C enter /logon on the hercules console.
    <p>
    All integrated devices must use a different command prefix. 
    <p>

<a name="conprkb">
<dt><em>Console printer-keyboard devices</em>
<dd><p>

    There are no required arguments for this particular device type, but
    there are however several optional arguments discussed below.
    <p>

    To use this device, a telnet client must connect to the host machine
    via the port number specified on the <a href="#CNSLPORT">CNSLPORT</a> statement.
    <p>

    If your telnet client software allows you to specify a device type suffix
    (for example: <code>ansi@0009</code> ), then you can use that suffix to specify
    the specific 1052 or 3215 device to which you wish to connect. If you do not
    specify a suffix in your telnet client software (or your software does not
    allow it), then your client will be connected to the first available 1052 or
    3215 device for which it is eligible.
    <p>

    An optional <code>noprompt</code> argument may be specified on the device
    statement to cause suppression of the "Enter input for console device nnnn"
    prompt message which is otherwise normally issued to the device whenever
    the system is awaiting input on that device.
    <p>

    Additionally, a terminal group name, ip address and subnet mask may all also
    be optionally specified in the exact same manner as discussed in the previous
    <a href="#loc3270">Local non-SNA 3270 devices</a> section with the exception
    that the "noprompt" option, if specified, must precede the other arguments.
    <p>

<a name="1442">
<a name="3505">
<a name="cardrdr">
<dt><em>Card reader devices</em>
<dd><p>

    The argument specifies a list of file names containing card images.
    Additional arguments may be specified after the file names:
    <p>

    <dl>
    <dt><code>sockdev</code>
    <dd><p>
        indicates the card reader is a socket device wherein the
        filename is actually a socket specification instead of a
        device filename.  When used, there must only be one filename
        specified in the form: <code>port</code> or <code>host:port</code>
        or <code>sockpath/sockname</code>.  The device then accepts
        remote connections on the given TCP/IP port or Unix Domain
        Socket, and reads data from the socket instead of from a device
        file. This allows automatic remote submission of card reader
        data. See the <a href="hercrdr.html">Hercules Socket Reader</a>
        page for more details.
        <p>

    <dt><code>eof</code>
    <dd><p>
        specifies that unit exception status is presented after
        reading the last card in the file. This option is persistent, and
        will remain in effect until the reader is reinitialized with the
        <code>intrq</code> option.
        <p>

    <dt><code>intrq</code>
    <dd><p>
        specifies that unit check status with intervention required
        sense bytes is presented after reading the last card
        in the file. This option is persistent, and will remain in
        effect until the reader is reinitialized with the <code>eof</code>
        option.
        <p>

    <dt><code>multifile</code>
    <dd><p>
        specifies, when multiple input files are entered, to
        automatically open the next input file and continue reading
        whenever EOF is encountered on a given file. If not specified,
        then reading stops once EOF is reached on a given file and
        an attention interrupt is then required to open and begin
        reading the next file.
        <p>

    <dt><code>ebcdic</code>
    <dd><p>
        specifies that the file contains fixed length 80-byte EBCDIC
        records with no line-end delimiters.
        <p>

    <dt><code>ascii</code>
    <dd><p>
        specifies that the file contains variable length lines of
        ASCII characters delimited by LF (line feed) sequences or CRLF
        (carraige return line feed) sequences at the end of each line.
        <p>

        If neither EBCDIC nor ASCII is specified, then the device handler
        attempts to detect the format of the card image file when the device
        is first accessed.
        Auto-detection is not supported for socket devices, and the default
        is ASCII if sockdev is specified.
        <p>

    <dt><code>trunc</code>
    <dd><p>
        specifies, for ASCII files, that lines longer than 80
        characters are truncated instead of producing a unit check
        error.
        <p>

    <dt><code>autopad</code>
    <dd><p>
        specifies, for EBCDIC files, that the file is automatically
        padded to a multiple of 80 bytes if necessary.
        <p>

    </dl>
    <p>

<a name="3525">
<a name="cardpch">
<dt><em>Card punch devices</em>
<dd><p>
    The argument specifies the name of a file to which the punched
    output will be written.
    Additional arguments may be specified after the file name:
    <p>

    <dl>
    <dt><code>ascii</code>
    <dd><p>
        specifies that the file will be written as variable length
        lines of ASCII characters delimited by line feeds or
        carriage return line feed sequences at the end of each line.
        Trailing blanks are removed from each line.
        If the <code>ascii</code> argument is not specified, the
        file is written as fixed length 80-byte EBCDIC records with
        no line-end delimiters.
        <p>

    <dt><code>crlf</code>
    <dd><p>
        specifies, for ASCII files, that carriage return line feed
        sequences are written at the end of each line.
        If the <code>crlf</code> argument is not specified, then
        line-feeds only are written at the end of each line.
        <p>

    </dl>
    <p>

<a name="1403">
<a name="printer">
<dt><em>Line printer devices</em>
<dd><p>
    The argument specifies the name of a file to which the printer
    output will be written.  The output is written in the form of
    variable length lines of ASCII characters delimited by line
    feeds or by carriage return line feed sequences.  Trailing
    blanks are removed from each line.  Carriage control characters
    are translated to blank lines or ASCII form feed characters.
    If the file exists it will be overwritten.
    
    <p>

    Additional arguments may be specified after the file name:
    <p>

    <dl>
    <dt><code>crlf</code>
    <dd><p>
        specifies, for ASCII files, that carriage return line feed
        sequences are written at the end of each line.
        If the <code>crlf</code> argument is not specified, then
        line-feeds only are written at the end of each line.
        <p>

    </dl>

    <p>

    If the filename begins with the vertical bar '&#124;' pipe character,
    then it is removed and the remainder of the device statement is
    interpreted as the name of an external program (followed by any
    necessary arguments) to which to "pipe" the printer output to.
    This is known as the "print-to-pipe" feature. All printer output
    is then sent to the piped program's stdin input, and all of the
    piped program's stdout and stderr output is piped back to Hercules
    for displaying on the hardware console.

    <p>

<a name="3420">
<a name="tapedev">
<dt><em>Emulated tape devices</em>
<dd><p>
    Four types of emulation are supported:
    <p>

    <dl> <!-- begin Emulated tape types of emulation -->

    <dt><b>SCSI tapes</b>
    <dd><p>
        The argument specifies the tape device name (usually
        <b><i>/dev/nst0</i></b>).  SCSI tapes are read and written
        using variable length EBCDIC blocks and filemarks exactly
        like a mainframe tape volume. &nbsp;(See also the
        <a href="#AUTO_SCSI_MOUNT">AUTO_SCSI_MOUNT</a>
        configuration option).
        <p>

    <dt><b>Optical Media Attach (OMA) virtual files</b>
    <dd><p>
        These are read-only files which usually reside on CDROM.
        OMA virtual tapes consist of one CDROM file corresponding
        to each physical file of the emulated tape.  An ASCII text
        file called the tape descriptor file (TDF) specifies the
        names of the files which make up the virtual tape.
        The argument specifies the name of the tape descriptor
        file (for example <b><i>/cdrom/tapes/uaa196.tdf</i></b>)
        <p>

        Each file on the virtual tape can be in one of three formats:
        <p>

        <dl>
        <dt><code>TEXT</code>
        <dd><p>
            <b><i>TEXT</i></b> files consist of variable length
            ASCII records delimited by carriage return line feed
            sequences at the end of each record.  Each record is
            translated to EBCDIC and presented to the program as
            one physical tape block.
            <p>

        <dt><code>FIXED <em>nnnnn</em></code>
        <dd><p>
            <b><i>FIXED</i></b> files consist of fixed length
            EBCDIC blocks of the specified length
            (<code><em>nnnnn</em></code>)
            <p>

        <dt><code>HEADERS</code>
        <dd><p>
            <b><i>HEADERS</i></b> files consist of variable
            length EBCDIC blocks.  Each block is preceded by a
            12-byte header.
            <p>

        </dl>
        <p>

        If you have any IBM manuals in Bookmanager format on CDROM,
        you can see some examples of TDF files in the
        <b><i>\TAPES</i></b> directory on the CDROM.
        <p>

    <dt><b>AWSTAPE virtual files</b>
    <dd><p>
        These contain a complete tape in one file.  AWSTAPE files
        consist of variable length EBCDIC blocks.  Each block is
        preceded by a 6-byte header.  Filemarks are represented by
        a 6-byte header with no data.  This is the same format as is
        used by the P/390.
        The argument specifies the location of the AWSTAPE file
        (for example <b><i>ickdsf.ipl</i></b>)
        <p>

    <dt><b>HET virtual files</b>
    <dd><p>
        These contain a complete tape in one file and have the same
        structure as the AWSTAPE format with the added ability to have
        compressed data.
        The first argument specifies the location of the HET file.  The
        filename must end with ".het" to be recognized by Hercules as an
        HET file.
        (for example <b><i>023178.het</i></b>)
        <p>

        Additional arguments that allow you to control various HET settings
        are:
        <p>

        <dl> <!-- begin Aditional HET arguments -->
        <dt><code>AWSTAPE</code>
        <dd><p>
            The <b><i>AWSTAPE</i></b> argument causes HET files to
            be written in AWSTAPE format.  This basically, disables
            the additional features provided by the HET format.
            <p>

        <dt><code>COMPRESS=<em>n</em></code>
        <dt><code>IDRC=<em>n</em></code>
        <dd><p>
            <b><i>COMPRESS</i></b> and <b><i>IDRC</i></b> control
            whether compression should be used when writing to HET
            files.  The value <code><em>n</em></code> can be <b>1</b>
            to turn on compression (the default) or <b>0</b> to turn
            it off.  <b><i>IDRC</i></b> is a currently a synonym for
            <b><i>COMPRESS</i></b>, but may be used in the future to
            control other emulated tape drive features.
            <p>

        <dt><code>METHOD=<em>n</em></code>
        <dd><p>
            The <b><i>METHOD</i></b> option allows you to specify
            which compression method to use.  You may specify
            <b><i>1</i></b> for ZLIB compression or <b><i>2</i></b>
            for BZIP2 compression.  The default is <b><i>1</i></b>.
            <p>

        <dt><code>LEVEL=<em>n</em></code>
        <dd><p>
            The <b><i>LEVEL</i></b> option controls the level of
            compression.  It ranges from <b><i>1</i></b> for fastest
            compression to <b><i>9</i></b> for best compression.
            The default is <b><i>4</i></b>.
            <p>

        <dt><code>CHUNKSIZE=<em>nnnnn</em></code>
        <dd><p>
            The <b><i>CHUNKSIZE</i></b> option allows you to create
            HET files that contain different chunk sizes.  The AWSTAPE
            (and therefore the HET) format allows each tape block to be
            logically broken up into smaller chunks.  For instance, if
            your S/3x0 application creates tapes with a block size of
            27998, those blocks would be broken down into
            <code><em>nnnnn</em></code> sized chunks.  To be honest, I
            can't think of a reason you'd want to change this since
            decreasing it may reduce compression performance, but it's
            there if you want it.  The range is from <b><i>4096</i></b>
            to <b><i>65535</i></b>.  The latter being the default.
            <p>

        </dl> <!-- end Aditional HET arguments -->

    </dl> <!-- begin Emulated tape types of emulation -->

    The following parameters apply to both AWS and HET emulation files:
    <p>

    <dl>
    <dt><code>MAXSIZE</code>=<i>n</i> &nbsp;&#124;&nbsp; <code>MAXSIZEK</code>=<i>n</i>
         &nbsp;&#124;&nbsp; <code>MAXSIZEM</code>=<i>n</i>
    <dd><p>
        Specifies the maximum number of bytes (specified in bytes, Kilobytes or
        Megabytes) for the emulated file. This parameter defaults to 0, meaning
        there is no limit on the file size.
        <p>

    <dt><code>EOTMARGIN</code>=<em>n</em>
    <dd><p>
        Specifies the number of bytes remaining before reaching <em>maxsize</em>
        at which point the tape device will signal the presence of the 'End Of Tape'
        marker, thus allowing the program to switch to the next tape.
        <p>

    </dl>

    Additionally, if the file name starts with the '@' character (at sign), the file
    really describes a list of tape emulation files to be loaded in succession.
    <p>

    The syntax of each line is identical to the information specified that can be
    specified after the device type when the emulation file is specified directly
    after the device type in the configuration file.
    <p>

    If the emulation file filename in the file list is the '*' character, then this
    specifies a set of options to be applied to all additional emulation files
    specified in the file list.
    <p>

    Parameters are appended in succession. In all cases, is the same parameter is
    specified more than once, the last instance takes precedence.
    <p>

    Therefore, it is possible to specify a set of parameters in the base configuration
    file, another set on a '*' line, and another set for each individual lines.
    Parameter are then appended in that order.
    <p>

    <i>A <b>SCSI tape</b> device should <b><u>NOT</u></b> be given in a file list.</i>
    <p>

    See the README.TAPE file for additional information, system and application programming for tape devices.
    <p>

<a name="ctca">
<a name="3088">
<dt><em>Channel-to-channel adapters</em>
<dd><p>
    The first argument defines the emulation type, and the remaining
    arguments depend on the chosen emulation type. If the first argument
    is not a recognized emulation type, then the driver will operate as
    in Hercules Version 1, using Willem Konynenberg's vmnet package, as
    described in Axel Schwarzer's
    <a href="http://www.kiyoinc.com/herc3088.html">CTCA 3088</a> document.
    <p>

    The following are the emulation types currently supported:
    <p>

    <dl> <!-- begin emulation types -->

<a name="CTCI">
    <dt><b>CTCI</b> &nbsp; &nbsp; (Channel to Channel link to TCP/IP stack)
    <dd><p>
        A point-to-point IP connection with the TCP/IP stack of the
        driving system on which Hercules is running.  See the
        <a href="herctcp.html">Hercules TCP/IP</a> page for details.
        <p>

        (Note: The CTCI protocol is only for the Linux version of
        Hercules. For Windows, use the below CTCI protocol instead).
        <p>

    <dt><b>CTCI</b>  &nbsp; &nbsp; (Channel to Channel link to Win32 TCP/IP stack)
    <dd><p>
        A modified Win32 version of the CTCI protocol for the Windows
        crowd. Note that the protocol name (CTCI) is the same,
        even though the actual implementation is very different. See Fish's
        <a href="http://www.softdevlabs.com/Hercules/ctci-w32-index.html">CTCI-W32</a>
        page for further details and information.
        <p>

        <dl> <!-- begin CTCI parms -->

        <dt>Required for both Linux and Windows:
        <dd><p>

            <dl> <!-- begin Required for both Linux and Windows -->

            <dt><code><em>guestip</em></code>
            <dd><p>
                specifies the IP address of the guest operating system
                running under Hercules.
                <p>

            <dt><code><em>hostip</em></code>
            <dd><p>
                specifies the IP address of the host (Linux or Windows) side
                of the point-to-point link. This may or may not be the same
                as your system's regular IP address. For Windows, if the
                host system is configured with DHCP, this should instead be
                the MAC address of the Ethernet adapter you wish to use to
                have Hercules communicate with the outside world.
                <p>

            </dl> <!-- end Required for both Linux and Windows -->

            <p>

        <dt>Optional for Linux:
        <dd><p>
            If these arguments are specified, they must precede the required
            arguments.
            <p>

            <dl> <!-- begin Optional for Linux -->

            <dt><code>-n <em>name</em></code> &nbsp;or <code>--dev <em>name</em></code>
            <dd><p>
                specifies the name of the tunnel device to use. The default
                is /dev/net/tun, which is correct for version 2.4 and above
                of the Linux kernel.
                <p>

            <dt><code>-d</code> &nbsp;or <code>--debug</code>
            <dd><p>
                specifies that debugging output is to be produced on the
                Hercules control panel. This should normally be left
                unspecified.
                <p>

            </dl> <!-- end Optional for Linux -->

            <p>

        <dt>Optional for Windows:
        <dd><p>
            If these arguments are specified, they must precede the required
            arguments. See Fish's
            <a href="http://www.softdevlabs.com/Hercules/ctci-w32-index.html">CTCI-W32</a>
            page for further details and information.
            <p>

        </dl> <!-- end CTCI parms -->

<a name="CTCT">
    <dt><b>CTCT</b> &nbsp; &nbsp; (Channel to Channel Emulation via TCP connection)
    <dd><p>
        An emulated CTCA to another Hercules system. Four arguments
        are required:
        <p>

        <dl> <!-- begin CTCT parms -->

        <dt><code><em>lport</em></code>
        <dd><p>
            specifies the local TCP port. This is the TCP port that
            Hercules will listen on for this CTCA.
            <p>

        <dt><code><em>rhost</em></code>
        <dd><p>
            specifies the remote host. This is the name or IP address
            of the remote system that Hercules is running on, not the
            name or IP address of the OS running on that copy of
            Hercules.
            <p>

        <dt><code><em>rport</em></code>
        <dd><p>
            specifies the remote TCP port. The rport parameter on this
            system must match the lport parameter on the remote system,
            and vice versa.
            <p>

        <dt><code><em>bufsize</em></code>
        <dd><p>
            specifies the buffer size for the link. If this link is used
            for IP traffic, this parameter should be more than the MTU
            of the interface definition in the OS.
            <p>

        </dl> <!-- end CTCT parms -->

        <p>

        Note: CTCT currently only supports IP traffic, so it cannot be used to
        transport NJE, SNA, PVM, etc. type payloads. This may change in the future.
        <p>

<a name="LCS">
    <dt><b>LCS</b> &nbsp; &nbsp; (LAN Channel Station Emulation)
    <dd><p>
        An emulated Lan Channel Station Adapter.
        This emulation mode appears to the operating system running in
        the Hercules machine as an IBM 8232 LCS device, an IBM 2216
        router, a 3172 running ICP (Interconnect Communications Program),
        the LCS3172 driver of a P/390, or an IBM Open Systems Adapter.
        <p>

        Rather than a point-to-point link, this emulation creates a
        virtual ethernet adapter through which the guest operating system
        running in the Hercules machine can communicate. As such, this
        mode is not limited to TCP/IP traffic, but in fact will handle
        any ethernet frame.
        <p>

        The configuration statement for LCS is as follows:
        <p>

        NOTE: There are no required parameters for the LCS emulation,
        however there are several options that can be specified on the
        config statement:
        <p>

        NOTE: On the MAC OS X Platform, the long option format (--xxx) is not
        supported. Only the short option format (-x : one dash, one letter) should
        be used.
        <p>

        <dl> <!-- begin LCS parms -->

        <dt><code>-n <em>devname</em></code> &nbsp;or <code>--dev <em>devname</em></code>
        <dd><p>
            where <em>devname</em> is:
            <p>

            <dl>
            <dt>(*nix)
            <dd><p>
                the name of the TUN/TAP special character device,
                normally /dev/net/tun.
                <p>

            <dt>(Windows)
            <dd><p>
                is either the IP or MAC address of the driving
                systems network card. TunTap32 will automatically select
                the first network card it finds if this option is
                omitted, this may not be desirable for some users.
                <p>

            </dl>
            <p>

        <dt><code>-o <em>filename</em></code> &nbsp;or <code>--oat <em>filename</em></code>
        <dd><p>
            where <em>filename</em> specifies the filename of the Address
            Translation file. If this option is specified, the optional
            <code>--mac</code> and <em>guestip</em> entries are ignored in preference to
            statements in the OAT. (See further below for the <a href=#OAT>syntax
            of the OAT file</a>)
            <p>

        <dt><code>-m <em>MAC Address</em></code> &nbsp;or <code>--mac <em>MAC address</em></code>
        <dd><p>
            where <em>MAC Address</em> is the optional hardware address of
            the interface in the format: xx:xx:xx:xx:xx:xx. If you use the
            <code>--oat</code> option, do not specify an address here.
            <p>

        <dt><code><em>guestip</em></code>
        <dd><p>
            is an optional IP address of the Hercules
            (guest OS) side. Note: This is only used to
            establish a point-to-point routing table entry
            on driving system. If you use the <code>--oat</code> option,
            do not specify an address here.
            <p>

        <a name="OAT">
        <dt><b>OAT file syntax</b>
        <dd><p>
            The syntax for the Address Translation file is as follows:
            <blockquote>
<pre><code>
*********************************************************
* Dev   Mode  Port  Entry specific information...       *
*********************************************************

  0400  IP    00    PRI  172.021.003.032
  0402  IP    00    SEC  172.021.003.033
  0404  IP    00    NO   172.021.003.038
  0406  IP    01    NO   172.021.002.016
  040E  SNA   00

HWADD  00  02:00:FE:DF:00:42
HWADD  01  02:00:FE:DF:00:43

ROUTE  00  172.021.003.032  255.255.255.224
</code></pre>
            </blockquote>
            <p>

            <dl> <!-- begin LCS OATFILE parms -->
            <dt>where:
            <dd><p>

                <dl>
                <dt><code><em>Dev</em></code>
                <dd><p>
                    is the base device address
                    <p>

                <dt><code><em>Mode</em></code>
                <dd><p>
                    is the operation mode: IP or SNA.
                    <p>
                    <i><b>Note:</b> &nbsp;<u>the SNA operation mode is NOT currently implemented</u>.</i>
                    <p>

                <dt><code><em>Port</em></code>
                <dd><p>
                    is the virtual (relative) adapter number.
                    <p>
                </dl>
                <p>
            </dl> <!-- end LCS OATFILE parms -->
            <p>

            For IP modes, the entry specific information is as follows:
            <p>

            <dl> <!-- begin LCS OATFILE parms entry specific information -->
            <dt><code>PRI &#124; SEC &#124; NO</code>
            <dd><p>
                specifies where a packet with an unknown IP
                address is forwarded to. PRI is the primary
                default entry, SEC specifies the entry to use
                when the primary is not available, and NO
                specifies that this is not a default entry.
                <p>

            <dt><code><em>nnn.nnn.nnn.nnn</code></em>
            <dd><p>
                specifies the home IP address
            </dl> <!-- end LCS OATFILE parms entry specific information -->
            <p>

            When the operation mode is IP, specify only the even (read)
            device number <em>dev</em>. The odd (write) address will be
            create automatically.
            <p>

            <i><b>Note:</b> &nbsp;<u>the SNA operation mode is NOT currently implemented</u>.</i>
            <p>

            Additionally, two other statements can be included in the
            address translation file. The HWADD and ROUTE statements.
            <p>

            Use the HWADD to specify a hardware (MAC) address for a
            virtual adapter. The first parameter after HWADD specifies
            with relative adapter for which the address is applied.
            <p>

            The ROUTE statement is included for convenience. This allows the
            hercifc program to create a network route for this specified
            virtual adapter. Please note that it is not necessary to include
            point-to-point routes for each IP address in the table. This is
            done automatically by the emulation module.
            <p>

            The read/write devices can be swapped by coding the odd address
            of the even-odd pair in the OAT
            <p>

            Up to 4 virtual (relative) adapters 00-03 are currently supported.

        </dl> <!-- end LCS parms -->
        <p>

        If no Address Translation file is specified, the emulation module
        will create the following:
        <p>

        <dl>
            An ethernet adapter (port 0) for TCP/IP traffic only.
        </dl>
        <p>

        <dl>
            Two device addresses will be defined (devnum and devnum + 1).
        </dl>
        <p>

    </dl> <!-- end emulation types -->
    <p>

<a name="3380">
<a name="ckddasd">
<dt><em>CKD DASD devices</em>
<dd><p>
    The argument specifies the name of a file containing the disk CKD
    DASD image or the INET address of a Hercules shared device server.
    <p>

    The file consists of a 512-byte device header record
    followed by fixed length track images.  The length of each track
    image depends on the emulated device type, and is always rounded
    up to the next multiple of 512 bytes.
    <p>

    Volumes larger than 2GB (for example, the 3390 model 3)
    can be supported by spreading the data across more than one file.
    Each file contains a whole number of cylinders.  The first file
    (which contains cylinders 0-2518 in the case of a 3390) usually
    has _1 as the last two characters of its name.  The ckddasd driver
    allocates the remaining files by replacing the last character of
    the file name by the characters 2, 3, etc.
    <p>

    <blockquote>
    <em><b>Note:</b> &nbsp;When CKD DASD images are spread across multiple files, you must
    specify only the first file name (the file with suffix _1) in the
    configuration statement.</em>
    </blockquote>
    <p>

    If your operating system supports <i>large file sizes</i> (or
    <i>64-bit offsets</i>) then volumes larger than 2G can be kept
    in a single file.
    <p>

    Alternatively, the argument may specify the name of a file containing
    a compressed CKD DASD image.  The CKD driver will automatically detect
    whether the file contains a regular CKD image or a compressed CKD
    image.
    <p>

    Refer to "Creating an empty DASD volume" in the "Creating, formatting,
    and loading DASD volumes" section of the
    <a href="hercload.html">Creating DASD</a>
    web page for information on using the 'dasdinit' command/utility to
    create compressed dasd files. Refer to the
    <a href="cckddasd.html">Compressed Dasd Emulation</a>
    page for details on the actual CCKD emulation itself and additional
    information on the <a href="cckddasd.html#cckdcommand">CCKD</a>
    initialization/tuning control file statement.
    <p>

    If you specify an INET address the format is:
    <p>

    <dl> <!-- begin INET parms -->
    <dt><code><em>ip-name-or-addr</em>:<em>port</em>:<em>devnum</em></code>
    <dd><p>
        <em>ip-name-or-addr</em> specifies the internet name or address
        where the Hercules shared device server is running.
        <p>

        <em>port</em> specifies the port number the shared device server
        is listening on.  If omitted, the default is 3990.
        <p>

        <em>devnum</em> specifies the device number on the shared
        device server.  If omitted, the default is the current device number.
        <p>

    </dl> <!-- end INET parms -->
    <p>


    In addition to the above, some additional optional arguments are also
    supported.
    <p>

    <dl> <!-- begin (CKD) additional DASD arguments -->

    <dt><code>sf=<em>shadow-file-name</em></code>
    <dd><p>
        A shadow file contains all the changes made to the emulated dasd since
        it was created, until the next shadow file is created. The moment of the
        shadow file's creation can be thought of as a snapshot of the current
        emulated dasd at that time, because if the shadow file is later removed,
        then the emulated dasd reverts back to the state it was at when the snapshot
        was taken.
        <p>

        Using shadow files, you can keep the base file on a read-only device such
        as cdrom, or change the base file attributes to read-only, ensuring that
        this file can never be corrupted.
        <p>

        Hercules console commands are provided to add a new shadow file, remove
        the current shadow file (with or without backward merge), compress the
        current shadow file, and display the shadow file status and statistics
        <p>

        For detailed information regarding shadow files and their use, please
        see the "<a href="cckddasd.html#shadowfiles">Shadow Files</a>" section
        of the <a href="cckddasd.html">Compressed Dasd Emulation</a> web page.
        <p>

    <dt><code>syncio</code>
    <dd><p>
        syncio enables possible 'synchronous' i/o. This is a dasd i/o feature
        wherein guest i/o requests are completed "synchronously" during the
        actual emulated execution of the SIO/SSCH (start-i/o / start subchannel)
        instruction rather than being deferred and executed asynchronously in
        a separate device i/o thread.
        <p>

        Only i/o which are known to be able to be completed without actually
        needing to perform any actual host i/o are completed synchronously (e.g.
        whenever the data being requested is found to already be in cache). If
        the requested data is not found in the cache, then an actual host i/o
        will need to be done and the request is passed to a device i/o thread
        to be completed asyncronously instead.
        <p>

        syncio is the default for ckd. syncio statistics may be displayed via
        the hercules <code>syncio</code> panel command.
        <p>

        <b>Note:</b> If you plan on using syncio with <b>Linux/390</b> and/or <b>zLinux</b>
        you might also want to take a look at the <a href="#IODELAY">IODELAY</a>
        configuration file statement as well.
        <p>

    <dt><code>readonly</code>
    <dd><p>
        readonly returns "write inhibited" sense when a write is attempted.
        Note that not all of the sense bits may be getting set absolutely
        correctly however. (Some people have reported getting different
        error messages under hercules than a real machine, but it really
        hasn't been an issue for a while now.)
        <p>

    <dt><code>fakewrite</code>
    <dd><p>
        fakewrite is a kludge for the readonly sense problem mentioned above.
        Here the disk is not intended to be updated (MVS updates the DSCB
        last referenced field for a readonly file) and any writes appear to
        be successful even though nothing actually gets written.
        <p>

    <dt><code>lazywrite</code>
    <dt><code>fulltrackio</code>
    <dd><p>
        These options have been deprecated. They are still accepted, but they
        do absolutely nothing.
        <p>

    </dl> <!-- end (CKD) additional DASD arguments  -->
    <p>

<a name="3370">
<a name="fbadasd">
<dt><em>FBA DASD devices</em>
<dd><p>
    The argument specifies the name of a file which contains the FBA
    DASD image or the INET address of a Hercules shared device server.
    <p>

    The file consists of fixed length 512-byte records,
    each of which represents one physical block of the emulated disk.
    <p>

    To allow access to a minidisk within a full-pack FBA DASD image
    file, two additional arguments may be specified after the file
    name:
    <p>

    <dl> <!-- begin FBA DASD arguments -->

    <dt><code><em>origin</em></code>
    <dd><p>
        specifies the relative block number within the DASD image
        file at which the minidisk begins.  The number must be less
        than the number of blocks in the file.  The default origin
        is zero.
        <p>

    <dt><code><em>numblks</em></code>
    <dd><p>
        specifies the number of 512-byte blocks in the minidisk.
        This number must not exceed the number of blocks in the file
        minus the origin.
        If omitted, or if specified as an asterisk, then the minidisk
        continues to the end of the DASD image file.
        <p>

    </dl> <!-- end FBA DASD arguments -->
    <p>

    If you specify an INET address the format is:
    <p>

    <dl> <!-- begin INET parms -->

    <dt><code><em>ip-name-or-addr</em>:<em>port</em>:<em>devnum</em></code>
    <dd><p>

        <em>ip-name-or-addr</em> specifies the internet name or address
        where the Hercules shared device server is running.
        <p>

        <em>port</em> specifies the port number the shared device server
        is listening on.  If omitted, the default is 3990.
        <p>

        <em>devnum</em> specifies the device number on the shared
        device server.  If omitted, the default is the current device number.

    </dl> <!-- end INET parms -->
    <p>

    In addition to the above, some additional optional arguments are also
    supported.
    <p>

    <dl> <!-- begin (FBA) additional DASD arguments -->

    <dt><code>sf=<em>shadow-file-name</em></code>
    <dd><p>
        The handling of shadow files for FBA devices is identical as that for
        CKD devices. Please refer to the preceding CKD section for information
        regarding use of the <code>sf=</code> shadow file option.
        <p>

    <dt><code><em>syncio</em></code>
    <dd><p>
        syncio enables possible 'synchronous' i/o and is explained in detail in
        the preceding CKD dasd section. Note however that syncio is currently
        disabled by default for FBA dasd due to an as yet unresolved problem
        and must therefore be specifically enabled if you wish to use it for FBA
        dasd.
        <p>

    </dl> <!-- end (FBA) additional DASD arguments  -->
    <p>

<a name="comline">
<dt><em>Communication Line</em>
<dd><p>
    ( Preliminary 2703 BSC Support )
    <p>

    Describes a BSC emulation line entry to either link 2 hercules engines
    or a custom made program emulating a 2780, 3780 or 3x74, or a custom made
    program interfacing to a real BSC line.
    <p>

    The communication is emulated over a TCP connection. All bytes are
    transfered as-is (except for doubling DLE in transparent mode) just
    like it would over a real BSC link. Emulated EIA (DCD, DTR, CTS,
    etc..) or X.21/V.11 leads (C, T, etc..) are treated differently depending
    on the DIAL option selected.
    <p>

    The line emulates a point-to-point BSC link. There is no point-to-multipoint handling.
    <p>

    The following options define the line emulation behaviour:
    <p>

    <dl> <!-- begin Communication Adapter parms -->

    <dt><code>DIAL=IN &#124; OUT &#124; INOUT &#124; NO</code>
    <dd><p>
        Specifies call direction (if any). If <code>DIAL=NO</code> is specified, the
        TCP outgoing connection is attempted as soon as an 'ENABLE' CCW is executed.
        Also, in this mode, an incoming connection will always be accepted. If <code>DIAL=IN&#124;INOUT</code>
        is specified, a TCP incoming call is accepted ONLY if an 'ENABLE' CCW is currently
        executing on the device. If <code>DIAL=OUT</code>, the 'ENABLE' CCW is rejected.
        When <code>DIAL=IN&#124;INOUT</code> is specified, a DIAL CCW allows the application
        to establish a TCP connection to a specific host. For other DIAL values,
        the DIAL CCW is rejected.
        <p>

    <dt><code>lhost=<em>hostname</em> &#124; <em>ip address</em> &#124; *</code>
    <dd><p>
        Specifies which IP address to listen on. This also conditions the network
        interface from which incoming calls will be accepted. Specifying '*' means
        all incoming TCP calls are accepted, regardless of the destination IP
        address or call origin. This is the default value. Specifying a specific
        IP address when <code>DIAL=OUT</code> is specified has no effect.
        <p>

    <dt><code>lport=<em>service name</em> &#124; <em>port number</em></code>
    <dd><p>
        Specifies the TCP port for which to listen to incoming TCP calls. This
        value is mandatory for <code>DIAL=IN&#124;INOUT&#124;NO</code>. It is ignored for <code>DIAL=OUT</code>.
        <p>

    <dt><code>rhost=<em>hostname</em> &#124; <em>ip address</em></code>
    <dt><code>rport=<em>service name</em> &#124; <em>port number</em></code>
    <dd><p>
        Specifies the remote host and port to which to direct a TCP connection on a
        DIAL=NO line when an 'ENABLE' CCW is executed. This option is mandatory when <code>DIAL=NO</code>
        is specified. It is ignored for other <code>DIAL</code> values.
        <p>

    </dl> <!-- end Communication Adapter parms -->

    The following options are tuning options. In most cases, using the default values
    give the best results
    <p>

    <dl> <!-- begin Communication Adapter tuning options -->

    <dt><code>rto=0 &#124; -1 &#124; <em>nnn</em> &#124; 3000</code>
    <dd><p>
        Specifies the number of milliseconds before terminating a read on a timeout, when
        no read termination control character is received. Specifying 0 means the READ ends
        immediately. -1 specifies there is no timeout.
        <p>

    <dt><code>pto=0 &#124; -1 &#124; <em>nnn</em> &#124; 3000</code>
    <dd><p>
        Specifies the number of milliseconds before terminating a POLL on a timeout, when
        no ACK or NACK sequence is received. Specifying 0 means the POLL ends
        immediately. -1 specifies there is no timeout.
        <p>

    <dt><code>eto=0 &#124; -1 &#124; <em>nnn</em> &#124; 10000</code>
    <dd><p>
        Specifies the number of milliseconds before terminating an ENABLE operation on a timeout.
        the timeout applies when <code>DIAL=NO&#124;IN&#124;INOUT</code> is specified, the outgoing TCP call
        fails (<code>DIAL=NO</code>) and there is no previously or currently established TCP connection
        for this line. When <code>DIAL=NO</code> is specified, the timeout defaults to 10 seconds.
        For <code>DIAL=IN&#124;INOUT</code>, the timeout defaults to -1.
        <p>

    </dl> <!-- end Communication Adapter tuning options -->

</dl> <!-- end Arguments for each device type -->

<p><br>

A comment preceded by a &#035; sign may be appended to any device
definition statement.
<p>

<center><hr width=15% noshade></center>
<p>

If you have a question about Hercules, see the
<a href="hercfaq.html">Hercules Frequently-Asked Questions</a> page.
<p>

<center>

    <hr width=15% noshade>
    <p>

    <a href="hercinst.html"><img src="images/back.gif" border=0 alt="back"></a>
    <p>

    <small>Last updated 07 December 2005
    <p>

</center>

</BODY>
</HTML>
